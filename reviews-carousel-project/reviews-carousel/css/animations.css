/* Advanced Animations and Effects */

/* Theme-specific entrance animations */
@keyframes darkThemeEntrance {
    0% {
        opacity: 0;
        transform: scale(0.9) rotateY(-10deg);
        filter: blur(5px);
    }
    50% {
        opacity: 0.7;
        transform: scale(1.02) rotateY(0deg);
        filter: blur(2px);
    }
    100% {
        opacity: 1;
        transform: scale(1) rotateY(0deg);
        filter: blur(0px);
    }
}

@keyframes lightThemeEntrance {
    0% {
        opacity: 0;
        transform: translateY(30px) scale(0.95);
    }
    60% {
        opacity: 0.8;
        transform: translateY(-5px) scale(1.02);
    }
    100% {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
}

@keyframes colorfulThemeEntrance {
    0% {
        opacity: 0;
        transform: scale(0.8) rotate(-5deg);
        filter: hue-rotate(180deg) saturate(0);
    }
    50% {
        opacity: 0.7;
        transform: scale(1.1) rotate(2deg);
        filter: hue-rotate(90deg) saturate(1.5);
    }
    100% {
        opacity: 1;
        transform: scale(1) rotate(0deg);
        filter: hue-rotate(0deg) saturate(1);
    }
}

@keyframes blackwhiteThemeEntrance {
    0% {
        opacity: 0;
        transform: scaleX(0) skewX(-10deg);
    }
    50% {
        opacity: 0.8;
        transform: scaleX(1.05) skewX(2deg);
    }
    100% {
        opacity: 1;
        transform: scaleX(1) skewX(0deg);
    }
}

@keyframes modernThemeEntrance {
    0% {
        opacity: 0;
        transform: perspective(1000px) rotateX(-20deg) translateZ(-100px);
    }
    60% {
        opacity: 0.8;
        transform: perspective(1000px) rotateX(5deg) translateZ(20px);
    }
    100% {
        opacity: 1;
        transform: perspective(1000px) rotateX(0deg) translateZ(0px);
    }
}

/* Apply theme-specific entrance animations */
[data-theme="dark"] .reviews-carousel {
    animation: darkThemeEntrance 0.8s cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

[data-theme="light"] .reviews-carousel {
    animation: lightThemeEntrance 0.6s cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

[data-theme="colorful"] .reviews-carousel {
    animation: colorfulThemeEntrance 0.9s cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

[data-theme="blackwhite"] .reviews-carousel {
    animation: blackwhiteThemeEntrance 0.7s cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

[data-theme="modern"] .reviews-carousel {
    animation: modernThemeEntrance 0.8s cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

/* Carousel slide animations */
@keyframes slideInFromRight {
    0% {
        opacity: 0;
        transform: translateX(100%);
    }
    100% {
        opacity: 1;
        transform: translateX(0);
    }
}

@keyframes slideInFromLeft {
    0% {
        opacity: 0;
        transform: translateX(-100%);
    }
    100% {
        opacity: 1;
        transform: translateX(0);
    }
}

@keyframes slideOutToLeft {
    0% {
        opacity: 1;
        transform: translateX(0);
    }
    100% {
        opacity: 0;
        transform: translateX(-100%);
    }
}

@keyframes slideOutToRight {
    0% {
        opacity: 1;
        transform: translateX(0);
    }
    100% {
        opacity: 0;
        transform: translateX(100%);
    }
}



@keyframes darkCardHover {
    0% {
        transform: translateY(0) scale(1);
        box-shadow: var(--card-shadow);
        filter: brightness(1);
    }
    100% {
        transform: translateY(-8px) scale(1.02);
        box-shadow: var(--card-hover-shadow), 0 0 30px rgba(161, 204, 165, 0.3);
        filter: brightness(1.1);
    }
}

@keyframes lightCardHover {
    0% {
        transform: translateY(0) scale(1);
        box-shadow: var(--card-shadow);
    }
    50% {
        transform: translateY(-3px) scale(1.01);
    }
    100% {
        transform: translateY(-6px) scale(1.02);
        box-shadow: var(--card-hover-shadow);
    }
}

@keyframes colorfulCardHover {
    0% {
        transform: translateY(0) scale(1) rotate(0deg);
        box-shadow: var(--card-shadow);
        filter: saturate(1) hue-rotate(0deg);
    }
    50% {
        transform: translateY(-4px) scale(1.03) rotate(1deg);
        filter: saturate(1.2) hue-rotate(5deg);
    }
    100% {
        transform: translateY(-8px) scale(1.02) rotate(0deg);
        box-shadow: var(--card-hover-shadow);
        filter: saturate(1.1) hue-rotate(0deg);
    }
}

@keyframes blackwhiteCardHover {
    0% {
        transform: translateY(0) scale(1);
        box-shadow: var(--card-shadow);
        filter: contrast(1);
    }
    100% {
        transform: translateY(-6px) scale(1.02);
        box-shadow: var(--card-hover-shadow);
        filter: contrast(1.1);
    }
}

@keyframes modernCardHover {
    0% {
        transform: translateY(0) scale(1) perspective(1000px) rotateX(0deg);
        box-shadow: var(--card-shadow);
    }
    50% {
        transform: translateY(-4px) scale(1.01) perspective(1000px) rotateX(2deg);
    }
    100% {
        transform: translateY(-8px) scale(1.02) perspective(1000px) rotateX(0deg);
        box-shadow: var(--card-hover-shadow);
    }
}

/* Button press animations */
.theme-btn:active {
    animation: buttonPress 0.15s ease-out;
}

@keyframes buttonPress {
    0% {
        transform: scale(1);
    }
    50% {
        transform: scale(0.95);
    }
    100% {
        transform: scale(1);
    }
}

/* Loading spinner variations per theme */
[data-theme="dark"] .spinner {
    border-color: rgba(161, 204, 165, 0.2);
    border-top-color: #a1cca5;
    animation: spin 1s linear infinite, darkSpinnerGlow 2s ease-in-out infinite alternate;
}

[data-theme="light"] .spinner {
    border-color: rgba(147, 183, 190, 0.2);
    border-top-color: #93b7be;
    animation: spin 1s linear infinite, lightSpinnerBounce 1.5s ease-in-out infinite;
}

[data-theme="colorful"] .spinner {
    border-color: rgba(63, 132, 229, 0.2);
    border-top-color: #3f84e5;
    animation: spin 1s linear infinite, colorfulSpinnerRainbow 3s linear infinite;
}

[data-theme="blackwhite"] .spinner {
    border-color: rgba(0, 0, 0, 0.2);
    border-top-color: #000000;
    animation: spin 1s linear infinite;
}

[data-theme="modern"] .spinner {
    border-color: rgba(254, 95, 85, 0.2);
    border-top-color: #fe5f55;
    animation: spin 1s linear infinite, modernSpinnerPulse 2s ease-in-out infinite;
}

@keyframes darkSpinnerGlow {
    0% {
        box-shadow: 0 0 10px rgba(161, 204, 165, 0.3);
    }
    100% {
        box-shadow: 0 0 20px rgba(161, 204, 165, 0.6);
    }
}

@keyframes lightSpinnerBounce {
    0%, 100% {
        transform: scale(1);
    }
    50% {
        transform: scale(1.1);
    }
}

@keyframes colorfulSpinnerRainbow {
    0% {
        border-top-color: #3f84e5;
    }
    25% {
        border-top-color: #b20d30;
    }
    50% {
        border-top-color: #c17817;
    }
    75% {
        border-top-color: #3f784c;
    }
    100% {
        border-top-color: #3f84e5;
    }
}

@keyframes modernSpinnerPulse {
    0%, 100% {
        transform: scale(1);
        opacity: 1;
    }
    50% {
        transform: scale(1.2);
        opacity: 0.7;
    }
}

/* Star rating animations */
.star {
    transition: all 0.2s ease;
}

.review-rating:hover .star {
    transform: scale(1.1);
}

.review-rating .star:hover ~ .star {
    transform: scale(0.9);
}

/* Indicator animations */
.indicator {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.indicator:hover {
    transform: scale(1.3);
}

.indicator.active {
    animation: indicatorPulse 1.5s ease-in-out infinite;
}

@keyframes indicatorPulse {
    0%, 100% {
        transform: scale(1.2);
        opacity: 1;
    }
    50% {
        transform: scale(1.4);
        opacity: 0.8;
    }
}

/* Text reveal animations */
.review-text {
    overflow: hidden;
}

.review-card:hover .review-text {
    animation: textReveal 0.5s ease-out forwards;
}

@keyframes textReveal {
    0% {
        max-height: 4.8em; /* 3 lines */
    }
    100% {
        max-height: 10em; /* More lines */
    }
}

/* Avatar hover effects */
.reviewer-avatar {
    transition: all 0.3s ease;
}

.review-card:hover .reviewer-avatar {
    transform: scale(1.1) rotate(5deg);
    box-shadow: var(--avatar-shadow), 0 0 20px var(--accent-color);
}

/* Parallax effect for modern theme */
[data-theme="modern"] .reviews-carousel::before {
    animation: modernParallax 10s linear infinite;
}

@keyframes modernParallax {
    0% {
        background-position: 0% 0%;
    }
    100% {
        background-position: 100% 100%;
    }
}

/* Floating animation for colorful theme elements */
[data-theme="colorful"] .theme-btn {
    animation: float 3s ease-in-out infinite;
}

[data-theme="colorful"] .theme-btn:nth-child(1) { animation-delay: 0s; }
[data-theme="colorful"] .theme-btn:nth-child(2) { animation-delay: 0.5s; }
[data-theme="colorful"] .theme-btn:nth-child(3) { animation-delay: 1s; }
[data-theme="colorful"] .theme-btn:nth-child(4) { animation-delay: 1.5s; }
[data-theme="colorful"] .theme-btn:nth-child(5) { animation-delay: 2s; }

@keyframes float {
    0%, 100% {
        transform: translateY(0px);
    }
    50% {
        transform: translateY(-5px);
    }
}

/* Glitch effect for dark theme on error */
[data-theme="dark"] .error-message.active {
    animation: glitch 0.5s ease-in-out;
}

@keyframes glitch {
    0%, 100% {
        transform: translate(0);
    }
    20% {
        transform: translate(-2px, 2px);
    }
    40% {
        transform: translate(-2px, -2px);
    }
    60% {
        transform: translate(2px, 2px);
    }
    80% {
        transform: translate(2px, -2px);
    }
}

/* Smooth theme transitions */
.theme-transition * {
    transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1) !important;
}

/* Reduced motion for accessibility */
@media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
    
    .spinner {
        animation: none !important;
        border: 4px solid var(--border-color);
        border-top: 4px solid var(--accent-color);
    }
}

